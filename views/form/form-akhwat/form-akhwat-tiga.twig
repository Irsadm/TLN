{% extends 'templates/form-template.twig' %}

{% block main %}

    <div class="container-fluid" style="width:100%; height:100%">
      <div class="row satu">
         <div class="col-xs-6 col-sm-4"></div>
        <div class="col-xs-6 col-sm-4 text-left">
                    <!-- form -->
          <center>
            <div class="error-block hidden">
          <span class="breadcrumb" id="errormessages" style="display: inline; background-color: #f2dede; color: #cc4644; width: 54%; box-shadow: 4px 4px 3px  #C0C0C0; margin-bottom: 13%">Lengkapi data profil Anda !</span>
          </div>
          </center>


          <form id="myForm">
          <div class="ciri-fisik">
            <h6>Ciri Fisik</h6>
          </div>

            <!-- warna rambut -->
            <div class="form-group jumlah-hafalan">
                <label for="status" class="label-radio">Warna rambut</label>
                <span  class="errorRadio hidden"><img class="float-right" style="display: inline; width: 5.7%; margin-top: 0 !important" src="public/assets/images/icon_tanda_seru.png" alt=""></span>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="warnaRambut" id="warnaRambut" value="Hitam" >
                    <label class="form-check-label" for="exampleRadios1">
                      Hitam
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="warnaRambut" id="warnaRambut" value="Coklat">
                    <label class="form-check-label" for="exampleRadios2">
                      Coklat
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="warnaRambut" id="warnaRambut" value="Berwarna lain">
                    <label class="form-check-label" for="exampleRadios3">
                      Berwarna lain
                    </label>
                  </div> 
            </div>


              <br>
              <!-- panjang rambut -->

              <div class="form-group jumlah-hafalan">
                <label for="status" class="label-radio">Panjang rambut</label>
                 <span  class="errorRadio2 hidden"><img class="float-right" style="display: inline; width: 5.7%; margin-top: 0 !important" src="public/assets/images/icon_tanda_seru.png" alt=""></span>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="panjangRambut" id="panjangRambut" value="Seleher" >
                    <label class="form-check-label" for="exampleRadios1">
                      Seleher
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="panjangRambut" id="panjangRambut" value="Sebahu">
                    <label class="form-check-label" for="exampleRadios2">
                      Sebahu
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="panjangRambut" id="panjangRambut" value="Sepunggung">
                    <label class="form-check-label" for="exampleRadios3">
                      Sepunggung
                    </label>
                  </div> 
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="panjangRambut" id="panjangRambut" value="Sepaha atau lebih panjang">
                    <label class="form-check-label" for="exampleRadios3">
                      Sepaha atau lebih panjang
                    </label>
                  </div> 
            </div>
            <br>

            <!-- Jenis rambutt -->

              <div class="form-group jumlah-hafalan">
                <label for="status" class="label-radio">Jenis rambut</label>
                <span  class="errorRadio3 hidden"><img class="float-right" style="display: inline; width: 5.7%; margin-top: 0 !important" src="public/assets/images/icon_tanda_seru.png" alt=""></span>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="jenisRambut" id="jenisRambut" value="Keriting" >
                    <label class="form-check-label" for="exampleRadios1">
                      Keriting
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="jenisRambut" id="jenisRambut" value="Bergelombang">
                    <label class="form-check-label" for="exampleRadios2">
                      Bergelombang
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="jenisRambut" id="jenisRambut" value="Lurus">
                    <label class="form-check-label" for="exampleRadios3">
                      Lurus
                    </label>
                  </div> 
            </div>
          <br>
            <!-- warna kulit -->

          <div class="form-group jumlah-hafalan">
                <label for="status" class="label-radio">Warna kulit</label>
                <span  class="errorRadio4 hidden"><img class="float-right" style="display: inline; width: 5.7%; margin-top: 0 !important" src="public/assets/images/icon_tanda_seru.png" alt=""></span>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="warnaKulit" id="warnaKulit" value="Hitam" >
                    <label class="form-check-label" for="exampleRadios1">
                      Hitam
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="warnaKulit" id="warnaKulit" value="Sawo matang">
                    <label class="form-check-label" for="exampleRadios2">
                      Sawo matang
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="warnaKulit" id="warnaKulit" value="Kuning langsat">
                    <label class="form-check-label" for="exampleRadios3">
                      Kuning langsat
                    </label>
                  </div> 
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="warnaKulit" id="warnaKulit" value="Putih">
                    <label class="form-check-label" for="exampleRadios3">
                      Putih
                    </label>
                  </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="warnaKulit" id="warnaKulit" value="Putih pucat">
                    <label class="form-check-label" for="exampleRadios3">
                      Putih pucat
                    </label>
                  </div>
            </div>
          <br>
            <!-- wajah -->

           <div class="form-group jumlah-hafalan">
                <label for="status" class="label-radio">Wajah</label>
                <span  class="errorRadio5 hidden"><img class="float-right" style="display: inline; width: 5.7%; margin-top: 0 !important" src="public/assets/images/icon_tanda_seru.png" alt=""></span>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="wajah" id="wajah" value="Kurang menarik" >
                    <label class="form-check-label" for="exampleRadios1">
                      Kurang menarik
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="wajah" id="wajah" value="Biasa saja">
                    <label class="form-check-label" for="exampleRadios2">
                      Biasa saja
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="wajah" id="wajah" value="Menarik">
                    <label class="form-check-label" for="exampleRadios3">
                      Menarik
                    </label>
                  </div> 
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="wajah" id="wajah" value="Sangat menarik">
                    <label class="form-check-label" for="exampleRadios3">
                      Sangat menarik
                    </label>
                  </div>
                </div>



            <!-- catatan lain tentag fisik saya -->
             <div>
              <textarea name="catatanLain" id="catatanLain" class="form-control" cols="1" rows="1" placeholder="Catatan lain tentang fisik saya"></textarea>
            </div> 
            <br>

        <button type="submit" class="float-right btn btn-lanjut"  id="selanjutnya"> Selanjutnya </button>
        <input type="hidden" id="url" value="{{ base_url() }}">
          </form>

        <!-- endform -->

        </div>
        <!-- Optional: clear the XS cols if their content doesn't match in height -->

        <div class="clearfix visible-xs-block"></div>
        <div class="col-xs-6 col-sm-4"></div>
      </div>




    </div>


{% endblock %}

{% block js %}

<script>
var base_url = $('#url').val();
jQuery.validator.setDefaults({
  debug: true,
});

 $(document).ready(function() {
$("input[name='warnaRambut']").click(function(event) {
$('.errorRadio').hide();
  /* Act on the event */
});
$("input[name='panjangRambut']").click(function(event) {
$('.errorRadio2').hide();
  /* Act on the event */
});
$("input[name='jenisRambut']").click(function(event) {
$('.errorRadio3').hide();
  /* Act on the event */
});
$("input[name='warnaKulit']").click(function(event) {
$('.errorRadio4').hide();
  /* Act on the event */
});
$("input[name='wajah']").click(function(event) {
$('.errorRadio5').hide();
  /* Act on the event */
});

  var validator = $("#myForm").validate({
        errorClass: "errors",
        // errorElement: "input",
        // onfocusout: false,
        rules: {
            warnaRambut: {
                "required": true,
                // "email" : true,
            },
            panjangRambut: {
                "required": true
            },
            jenisRambut: {
                "required": true
            },
            warnaKulit: {
                "required": true
            },
            wajah: {
                "required": true
            },
            catatanLain: {
                "required": true
            },

            
        },
      errorPlacement: function(error, element) {
        if (element.attr("name") == "warnaRambut") {
          $('.errorRadio').removeClass('hidden');
        } else if (element.attr("name") == "panjangRambut")  {
          $('.errorRadio2').removeClass('hidden');

        } else if (element.attr("name") == "jenisRambut")  {
          $('.errorRadio3').removeClass('hidden');
        } else if (element.attr("name") == "warnaKulit")  {
          $('.errorRadio4').removeClass('hidden');
        } else if (element.attr("name") == "wajah")  {
          $('.errorRadio5').removeClass('hidden');
        } else {
           error.appendTo(element);
         }

       },
        // errorPlacement: function(element) {
        //     if ($(element).hasClass('form-control')) {
        //         this.element(element);
        //     }
        // },
        showErrors: function (errorMap, errorList) {

        this.defaultShowErrors(); 

        // toggle the error summary box
        if (this.numberOfInvalids() > 0) {
            $(".error-block").removeClass('hidden');
        } else {
            $("#errormessages").hide();
        }


    },
     submitHandler: function(form) {
        var warnaRambut = document.querySelector('input[name="warnaRambut"]:checked').value;
        var panjangRambut = document.querySelector('input[name="panjangRambut"]:checked').value;
        var jenisRambut = document.querySelector('input[name="jenisRambut"]:checked').value;
        var warnaKulit = document.querySelector('input[name="warnaKulit"]:checked').value;
        var wajah = document.querySelector('input[name="wajah"]:checked').value;
        var catatanLain = document.getElementById('catatanLain').value;
        
        var currentKey = localStorage.getItem('key');
        // var currentKey ='-LO4nsjVyzA0GIMrX8ny';
        // console.log(currentKey);  

        var akhwatTable = database.ref().child('akhwat/'+currentKey);

        // var newIkhwan = ikhwanTable.push();
        // var newKey = ikhwanTable.push().key;

        akhwatTable.update({
          warnaRambut: warnaRambut,
          panjangRambut: panjangRambut,
          jenisRambut: jenisRambut,
          warnaKulit: warnaKulit,
          wajah: wajah,
          catatanLain: catatanLain,
        });

            window.location.replace(base_url+'/form-empat');
        }

    });

});

    $('#selanjutnya').click(function () {
        $('#myForm').valid(); // run a validity test on the form
    });



</script>

{% endblock %}
